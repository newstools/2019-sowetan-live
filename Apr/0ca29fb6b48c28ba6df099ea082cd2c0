Eastern forces and troops loyal to the Tripoli government fought on the outskirts of Libya's capital on Wednesday as thousands of residents fled from the battle. The Libyan National Army (LNA) forces of eastern commander Khalifa Haftar held positions in the suburbs about 11 km (7 miles) south of the centre, with steel containers and pickups with mounted machine-guns blocking their way into the city. Residents reported LNA planes buzzing Tripoli and the sound of clashes in outskirts. Haftar's forces were engaging Prime Minister Fayez al-Serraj's fighters at the former international airport, one soldier told Reuters. The United Nations said at least 4,500 Tripoli residents had been displaced, most moving away from their homes in conflict areas to safer districts of the city. Many more were trapped, it said. The LNA forces moved out of their stronghold in east Libya to take the sparsely-populated but oil-rich south earlier this year, before heading a week ago towards Tripoli, where the internationally-recognised government of sits. Libya has been split into rival eastern and western administrations since the 2011 topping of former strongman Muammar Gaddafi. He ruled for more than four decades before falling in a Western-backed revolt. Since then, political and armed factions have vied for power and control of Libya's oil wealth, and the country split into rival eastern and western administrations linked to shifting military alliances after a battle for Tripoli in 2014. The United Nations wants to bring both sides together to plan an election and way out of the chaos. "I JUST WANT TO SURVIVE" Its humanitarian agency the OCHA said it was extremely concerned about the "disproportionate and indiscriminate use" of explosive weapons in densely-populated areas. Half a million children were at risk, it added. As well as the humanitarian consequences, renewed conflict in Libya threatens to disrupt oil supplies, boost migration across the Mediterranean to Europe, scupper the U.N. peace plan, and encourage militants to exploit the chaos. Islamic State killed three people in a remote desert town under LNA control two days ago. In Tripoli, nearly 50 people have died, mainly fighters but also some civilians including two doctors, according to latest U.N. casualty estimates. The toll is expected to rise. Several thousand migrants, detained after trying to use Libya as a staging-point for crossing the Mediterranean to Europe, have also been caught up in the crisis. The U.N. refugee agency UNHCR said on Tuesday it had relocated more than 150 of them - among several thousand in total - from one detention centre in south Tripoli to a facility of its own in a safe zone. One official at that detention centre said he flung open the doors on Wednesday and released another 150 migrants for their own safety due to the proximity of clashes. The United Nations, United States, European Union and G7 bloc have appealed for a ceasefire, a return to the U.N. peace plan, and a halt to Haftar's push. Opponents cast him as a would-be dictator in the mould of Gaddafi, though Haftar projects himself as a champion against extremism pushing to restore order to Libya. Haftar was among officers who helped Gaddafi rise to power in 1969 but fell out with him during a war with Chad in the 1980s. He was taken prisoner by the Chadians, rescued by the CIA, and lived for about 20 years in Virginia before returning in 2011 to join other rebels in the uprising against Gaddafi Despite the flare-up in conflict, normal life was just about continuing in Tripoli, a city of roughly 1.2 million people, though prices were rising and businesses are closing earlier than usual, residents said. "I don't care who wins or loses, I just want to survive with my family," said a teacher in Tripoli, who hoped to get out.