US President Donald Trump met Queen Elizabeth II at Buckingham Palace on Monday after kicking off his UK state visit by branding the London mayor a "loser" and weighing in on the Brexit debate. With a 41-gun royal salute ringing out across the royal palace's lawn, Queen Elizabeth II and Prince Charles shook hands with the US leader and First Lady Melania Trump before British soldiers played the national anthems of the two countries. The queen then led the couple inside for a private lunch, which will be followed in the evening by a glittering banquet. Trump's plane had not even touched down when he tweeted that London Mayor Sadiq Khan, who has been highly critical of the red-carpet welcome laid on for Trump, was doing a "terrible job". The president called the mayor a "stone cold loser", adding: "Kahn reminds me very much of our very dumb and incompetent Mayor of NYC, (Bill) de Blasio, who has also done a terrible job - only half his height. "In any event, I look forward to being a great friend to the United Kingdom," he added. Trump's three-day visit comes with Britain in political turmoil. Prime Minister Theresa May is due to step down within weeks over her handling of her country's exit from the European Union. Trump weighed in on the divisive issue, declaring before he arrived that Britain's former foreign minister Boris Johnson would make an "excellent" choice to succeed May. In a round of British newspaper interviews, he also recommended her successor walk away from talks with Brussels, refuse to pay Britain's agreed divorce bill and leave the EU with no deal. The UK-US "special relationship" was already under strain over different approaches to Iran, the use of Chinese technology in 5G networks, climate change, and Trump's personal politics. Labour's Khan has led opposition to the three-day visit, writing a newspaper article on Sunday in which he compared the US leader to European dictators from the 1930s and 1940s. "Donald Trump is just one of the most egregious examples of a growing global threat," Khan wrote. His spokesman called Trump's tweets "childish" and "beneath the president of the United States". Huge protests are being organised in London, with organisers crowdfunding a bright orange "baby Trump" blimp depicting the US leader in a diaper -- aiming for an even larger version than the one flown during his visit last year. The leaders of Britain's main opposition parties and the speaker of parliament are boycotting the state banquet on Monday night. In an effort to brush past the controversy, May and Trump are expected to emphasise the wider benefits of their old alliance when they hold talks at Downing Street on Tuesday. On Wednesday, they will join other world leaders in the English port of Portsmouth to commemorate 75 years since the D-Day landings, which changed the course of World War II. "Our relationship has underpinned our countries' security and prosperity for many years, and will continue to do so for generations to come," May said ahead of the visit. May announced her resignation last month after failing to get her Brexit deal through parliament and twice delaying Britain's EU departure. She will formally quit as her Conservative party's leader on Friday, but will stay on as caretaker prime minister while her successor is chosen. Three years after the referendum vote for Brexit, Britain remains divided. Trump recommended the new government make a clean break with the EU if necessary, adding that there was "tremendous potential" for Britain to trade with his country after Brexit. Causing more potential embarrassment for May, Trump said he might also meet with Johnson and pro-Brexit leader Nigel Farage during his UK visit. "They want to meet. We'll see what happens," he told reporters before he left the United States.  May was the first foreign leader welcomed to the White House after Trump's election victory in November 2016, but their relationship has not always been rosy. They have clashed over Trump's migration policies, while Britain still backs the Iranian nuclear deal and the Paris climate accord, both of which Trump has abandoned. Washington has also been putting pressure on Britain to exclude Chinese tech giant Huawei from its 5G network over security concerns, suggesting it might harm intelligence-sharing. Trump's first official visit to Britain last year was overshadowed by criticism of May's approach to Brexit, as well as large demonstrations. He is not expected to meet Prince Harry and his American wife Meghan Markle, after saying her previous criticism of him was "nasty".